@import "../base/dependencies";

.Spynav {
	background-color: #FFF;
	position: fixed;
	top: var(--header-height);
	transition: top 0.6s;
	width: 100%;
	z-index: 1000;

	&:after {
		background: linear-gradient(to bottom, rgba(#000, 0.1) 0%, rgba(#000, 0) 100%);
		bottom: 0;
		content: "";
		height: 1rem;
		left: 0;
		opacity: 1;
		pointer-events: none;
		position: absolute;
		transform: translateY(100%);
		transition: opacity 0.2s;
		width: 100%;
		z-index: 1;
	}

	&>.container {
		align-items: center;
		display: flex;
		flex-flow: row wrap;
		height: 100%;
	}

	&.mobile {
		display: flex;
		font-size: 14px;

		.btn_wrapper {
			@include flexCenter;
			height: 40px;
			width: 100%;
		}

		button {
			@include bg;
			appearance: none;
			background: transparent none;
			border: 0 none;
			color: $reflex;
			opacity: 0;
			padding: 0;
			text-align: left;
			text-transform: uppercase;
			transition: opacity 0.3s ease;
			z-index: 1;

			&.active {
				opacity: 1;
			}
		}

		.subnav {
			background-color: #FFF;
			height: auto;
			left: 0;
			list-style-type: none;
			max-height: 0vh;
			overflow: hidden;
			padding: 0 $xsPadding;
			position: absolute;
			top: 100%;
			transition: max-height 0.3s ease, padding 0.3s ease;
			width: 100%;
			z-index: 10;
		}

		.spylink {
			padding: 4px 0;

			a {
				color: $ash;

				&:hover {
					color: $reflex !important;
				}

				&.active {
					font-weight: 900;
				}
			}
		}

		&:before {
			background: transparent url("../../img/controls/chevron_down_ash.svg") center center no-repeat;
			background-size: contain;
			content: "";
			height: 12px;
			pointer-events: none;
			position: absolute;
			right: $xsPadding;
			top: calc(50% - 6px);
			transition: transform 0.3s ease;
			width: 12px;
			z-index: 10;
		}

		&.active {
			.subnav {
				max-height: 50vh;
				padding: $xsPadding;
			}

			&:after {
				transform: scale(-1);
			}
		}
	}

	&.desktop {
		display: none;
		font-size: 10px;
		height: 5em;
		max-width: 1600px;


		.spylink {
			align-items: center;
			display: inline-flex;
			font-size: 15px;
			font-size: calc(min(15px, 2.1vw));
			height: 100%;
			line-height: 100%;
			list-style-type: none;
			margin: 0 calc(clamp(18px, 4vw, 75px)) 0 0;
			position: relative;

			a {
				color: $ash;

				&:hover {
					color: $reflex !important;
				}
			}

			&:after {
				@include broadsignGradient;
				bottom: 0;
				content: "";
				height: 2px;
				left: 0;
				max-width: 0%;
				position: absolute;
				transition: max-width 0.6s ease 0.3s;
				width: 100%;
			}

			&.active {
				@include fontBold;

				&:after {
					max-width: 100%;
				}
			}

			&:hover {
				&:after {
					max-width: 100%;
					transition: max-width 0.6s ease 0s;
				}
			}
		}
	}
}

@media (min-width:$sm) {
	.Spynav {
		&.desktop {
			display: block;
		}

		&.mobile {
			display: none;
		}
	}
}
