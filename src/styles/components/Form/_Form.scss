@import "../CTA/cta_bases";

.Form {
	min-height: 20rem;
	width: 100%;

	form {
		margin-bottom: 0;

		input::placeholder {
			color: #A9A9A9;
		}

		fieldset {
			display: inline-block;
			flex: 0 0 100%;
			margin-bottom: 1.8rem;
			max-width: 100%;
			width: 100%;

			.field .input {

				&,
				input,
				textarea {
					margin: 0;
					width: 100%;
					z-index: 1;
				}
			}

			&.form-columns-1,
			&.form-columns-2,
			&.form-columns-3 {
				&>.hs-form-field {
					align-items: flex-start;
					display: inline-flex;
					float: none;
					height: 100%;
					justify-content: flex-end;
					margin-bottom: 0;
					vertical-align: bottom;
				}
			}

			&.form-columns-1 {
				&>div {

					&,
					&.error {
						margin-left: 0;
						margin-right: 0;
						max-width: 100%;
						width: 100%;
					}
				}
			}

			&.form-columns-2 {
				&>div {

					&,
					&.error {
						margin-bottom: 0;
						margin-left: 1.5rem;
						margin-right: 1.5rem;
						max-width: calc(50% - 1.5rem);
						width: calc(50% - 1.5rem);

						&:first-of-type {
							margin-left: 0;
						}

						&:last-of-type {
							margin-right: 0;
						}
					}
				}
			}

			&.form-columns-3 {
				&>div {

					&,
					&.error {
						margin-bottom: 0;
						margin-left: 1.5rem;
						margin-right: 1.5rem;
						max-width: calc(33% - 2rem);
						width: calc(33% - 2rem);

						&:first-of-type {
							margin-left: 0;
						}

						&:last-of-type {
							margin-right: 0;
						}
					}
				}
			}

			&.hidden {
				margin: 0;
				max-height: 0;
				max-width: 0;
				overflow: hidden;
				padding: 0;
			}
		}

		.field {
			display: inline-flex;
			flex-flow: column nowrap;
			float: none;
			margin: 0 0 2rem;
			padding: 0;

			label {
				font-size: 1.4rem;
				font-weight: bold;
				margin: 0 0 2px;
				order: 1;
				position: relative;
				transition: transform 0.3s;
				z-index: 10;

				&>span {
					color: $blue;
					transition: color 0.3s;

					&.hs-form-required {
						color: $red;
						margin-left: 5px;
					}
				}
			}

			.input {
				order: 3;

				input,
				select,
				textarea {
					border: 0 none;
					border-radius: 0;
					box-shadow: none;
					box-sizing: border-box;
					font-size: 1.4rem;
					height: 2.6rem;
					max-width: 100%;
					transition: color 0.3s;
					width: 100%;

					&:active,
					&:focus {
						outline: none;
					}
				}

				select option {
					background-color: #FFF;
					color: $blue;

					&:disabled {
						color: rgba($blue, 0.4);
					}
				}
			}

			.hs-error-msgs {
				display: inline-block;
				height: 0;
				order: 2;
				overflow: hidden;
				padding: 0;
				width: 100%;

				li {
					height: 0;
					list-style-type: none;
					overflow: hidden;
					padding: 0;
					width: 0;

					label {
						color: $red;
						pointer-events: all;
						transform: none;
					}
				}

				label {
					display: inline-block;
				}

				.resubscribe_error {
					@include fontBold;
					color: darken($teal, 10);
					display: inline-block;
					pointer-events: all;
					text-shadow: none;

					&:hover {
						color: $blue;
					}
				}
			}

			&.hs-fieldtype-select {
				.input {
					margin-right: 0;
				}
			}

			&.hs-fieldtype-booleancheckbox {
				margin-bottom: 0;
				padding-bottom: 1rem;
				padding-top: 1rem;

				&.error {
					margin-bottom: 0;
					margin-left: 0;
					padding-bottom: 1rem;
					padding-top: 1rem;
				}

				ul {
					padding: 0;

					li {
						list-style-type: none;
					}
				}

				label {
					display: flex;
					flex-flow: row nowrap;
					justify-content: space-between;
					padding-top: 0.3rem !important;
					position: relative;
					width: 100%;

					input,
					textarea {
						display: inline-block;
						flex: 0 0 1.5rem;
						height: 1.5rem;
						left: 0.2rem;
						max-height: 1.5rem;
						max-width: 1.5rem;
						position: relative;
						top: 0.2rem;
						width: 1.5rem;

						&:before {
							background-color: #FFF;
							background-image: none;
							background-size: contain;
							border: 2px solid #000;
							border-radius: 0.6rem;
							content: " ";
							height: 2rem;
							left: -0.2rem;
							margin: 0;
							max-height: 2rem;
							max-width: 2rem;
							padding: 0;
							position: absolute;
							top: -0.2rem;
							transition: border-color 0.3s;
							width: 2rem;
						}

						&:checked:before {
							background-image: url("../../img/controls/check.svg");
						}
					}

					span {
						display: inline;
						flex: 0 0 calc(100% - 3.4rem);
						max-width: calc(100% - 3.4rem);
						width: calc(100% - 3.4rem);

						&:after {
							color: $red;
							content: "*";
							font-weight: bold;
						}

						&.hs-form-required {
							display: none;
						}
					}
				}
			}

			&.hs-email {
				.hs-error-msgs {
					height: auto;
					overflow: visible;
					width: auto;

					li {
						height: auto;
						overflow: visible;
						width: auto;

						label {
							color: $red;
							transform: none;
						}
					}
				}
			}
		}

		div.field.error {
			background: transparent none;
			margin: 0 0 2rem;
			padding: 0;

			label {
				transition: none;
			}

			.hs-error-msgs {

				&,
				& li {
					height: auto;
					width: 100%;
				}
			}

			&.hs-fieldtype-booleancheckbox {
				label {
					span {
						color: $red;
					}

					input,
					textarea {
						&:before {
							border-color: $red;
						}
					}
				}
			}

			&.hs-email {
				label {
					transform: none;
				}
			}
		}

		div.actions {
			margin: 0;
			padding: 0;

			input[type="submit"].hs-button {
				@extend %cta;
				@include ctaStyling($red, "full", false);

				&:hover {
					@include ctaStyling($red, "full", true);
				}
			}
		}

		.hs_error_rollup {
			margin: 2rem 0;

			ul li {
				list-style-type: none;

				label {
					@include fontBold;
					color: $red;
					font-size: 2rem;
					line-height: 120%;
				}
			}
		}

		&.clearbit_shortened {

			fieldset.form-columns-1,
			fieldset.form-columns-2,
			fieldset.form-columns-3 {
				display: block;
				margin: 0;

				&>div {
					width: 100% !important;
					max-width: 100% !important;
					margin: 0 0 12px !important;
				}
			}
		}
	}

	&.bg_light {
		&.fields_boxes {
			form {
				.field {
					.input {}
				}
			}
		}

		&.fields_lines {
			form {
				.field {
					.input {

						input,
						textarea {
							border: none;
							border-bottom: 2px solid $blue;
						}

						select,
						select option {
							background-color: transparent;
							border: 2px solid $blue;
							color: $blue;
						}
					}
				}
			}
		}
	}

	&.bg_dark {
		form {
			.field {
				label {
					span:first-of-type {
						color: #FFF;
					}
				}

				.input {

					input,
					select,
					textarea {
						color: #FFF;
					}

					select option {
						appearance: none;
						padding: 1rem;
					}
				}
			}
		}

		&.fields_boxes {
			form {
				.field {
					.input {}
				}
			}
		}

		&.fields_lines {
			form {
				.field {
					.input {

						input,
						textarea {
							border: none;
							border-bottom: 2px solid #FFF;
						}

						select,
						select option {
							border: none;
							border-bottom: 2px solid #FFF;
						}
					}
				}
			}
		}
	}

	&.fields_boxes {
		form {
			.field {
				.input {

					input,
					select {
						background-color: #FFF;
						height: 3.2rem;
					}

					textarea {
						background-color: #FFF;
						height: 14rem;
					}
				}

				&.error {
					.input {

						input,
						select,
						textarea {
							border: 2px solid $red;
							color: $red;
						}
					}

					&.hs-fieldtype-text,
					&.hs-fieldtype-select,
					&.hs-fieldtype-textarea {
						label {
							span {
								color: $red;
							}
						}
					}
				}
			}
		}
	}

	&.fields_lines {
		form {
			.field {
				.input {
					@include inputWebkitAutofills;

					input,
					textarea {
						background-color: transparent;
						border: 2px solid #FFF;
						border-radius: 0;
						border-width: 0 0 2px 0;
						box-shadow: none;
						padding-left: 0;
						padding-right: 0;

						&:active,
						&:focus {
							box-shadow: none;
						}
					}

					select {
						background-color: transparent;
						border: 2px solid #FFF;
						border-radius: 0;
						box-shadow: none;
						height: auto;
						padding: 1rem 1.2rem 0.8rem 0;

						&:active,
						&:focus {
							box-shadow: none;
						}
					}
				}

				&.hs-fieldtype-text,
				&.hs-fieldtype-textarea {
					label {
						pointer-events: none;
						transform: translateY(100%);
					}

					&.field_not_empty,
					&.field_focused,
					.hs-error-msgs li {
						label {
							transform: none;
						}
					}
				}

				&.hs-fieldtype-textarea {
					position: relative;
					top: 3px;
				}

				&.error {
					.input {

						input,
						select,
						textarea {
							border-color: $red;
							color: $red;
						}
					}

					&.hs-fieldtype-text,
					&.hs-fieldtype-select {
						label {
							span {
								color: $red;
							}
						}
					}
				}
			}
		}
	}

	&.loaded {
		.Loading {
			opacity: 0;
		}
	}

	&.bg_dark .Loading .line {
		border-color: #FFF #FFF #FFF transparent;
	}

	&.bg_light .Loading .line {
		border-color: $blue $blue $blue transparent;
	}

	&.hide_placeholders {
		input::placeholder {
			color: transparent;
		}
	}
}

.theme_carolina {
	.Form {
		font-size: 16px;

		form {
			font-size: 1em;

			.field {
				label {
					font-size: 1em;
				}

				.input {
					input {
						font-size: 1em;
						height: 2em;
					}

					select {
						font-size: 0.9em;
						height: 2.2em;
						padding: 0 0.2em;
					}
				}

				&.field.error .hs-error-msgs {
					position: relative;
					top: 2px;
				}

				&.hs-fieldtype-booleancheckbox {
					font-size: 0.8em;

					label span {
						font-size: 1em;
					}
				}
			}
		}

		&.fields_lines {
			form {

				.field {

					&.hs-fieldtype-text,
					&.hs-fieldtype-textarea,
					&.hs-fieldtype-select {
						&>label {
							font-size: 0.8em;
						}

						.hs-error-msgs li label {
							font-size: 0.8em;
						}
					}

					&.hs-fieldtype-text,
					&.hs-fieldtype-textarea {
						&>label {
							margin-top: 10px;
							transform: translateY(130%);
						}

						&.error label,
						&.field_not_empty label,
						&.field_focused label {
							transform: none;
						}
					}
				}
			}
		}

		&.fields_boxes {
			form {

				.field {
					.input {

						input,
						select,
						textarea {
							padding-left: 0.4em;
							padding-right: 0.4em;
						}
					}

					&.hs-fieldtype-text,
					&.hs-fieldtype-textarea,
					&.hs-fieldtype-select {
						&>label {
							font-size: 0.8em;
						}

						.hs-error-msgs li label {
							font-size: 0.8em;
						}
					}
				}
			}
		}

		.submitted-message {
			border: 0 none;
			margin: 0;
			padding: 0 0 70px;

			p {
				color: $ash;
				font-size: 16px;
				text-align: left;

				strong {
					@include fontBlack;
					background-image: url("../../img/ui/check_circle_green.svg");
					background-position: left 0.1em;
					background-repeat: no-repeat;
					background-size: 1em 1em;
					color: $reflex;
					display: flex;
					font-size: 1.8em;
					line-height: 1.2em;
					padding-left: 1.6em;
				}
			}
		}
	}

	.submitted-message {
		border: 0 none;
		margin: 0;
		padding: 0 0 70px;

		p {
			color: $ash;
			font-size: 16px;
			text-align: left;

			strong {
				@include fontBolder;
				background-image: url("../../img/ui/check_circle_green.svg");
				background-position: left 0.1em;
				background-repeat: no-repeat;
				background-size: 1em 1em;
				color: $reflex;
				display: flex;
				font-size: 1.8em;
				line-height: 1.2em;
				padding-left: 1.6em;
				margin-top: 1em;
			}
		}
	}
}

@media (min-width:$sm) {
	.theme_carolina {
		.Form {
			form {
				.field {
					label {}

					.input {
						input {}

						select {}
					}

					&.field.error .hs-error-msgs {}

					&.hs-fieldtype-booleancheckbox {
						font-size: 0.9em;

						label span {}
					}
				}
			}

			&.fields_lines {
				form {

					.field {

						&.hs-fieldtype-text,
						&.hs-fieldtype-textarea,
						&.hs-fieldtype-select {
							&>label {}

							.hs-error-msgs li label {}
						}

						&.hs-fieldtype-text,
						&.hs-fieldtype-textarea {
							&>label {
								margin-top: 0;
							}

							&.error label,
							&.field_focused label {}
						}
					}
				}
			}
		}
	}
}